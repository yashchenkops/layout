!function(e,t){"function"==typeof define&&define.amd?define(["module","exports"],t):"undefined"!=typeof exports?t(module,exports):(t(t={exports:{}},t.exports),e.WOW=t.exports)}(this,function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){return 0<=t.indexOf(e)}function s(e,t,i){null!=e.addEventListener?e.addEventListener(t,i,!1):null!=e.attachEvent?e.attachEvent("on"+t,i):e[t]=i}function o(e,t,i){null!=e.removeEventListener?e.removeEventListener(t,i,!1):null!=e.detachEvent?e.detachEvent("on"+t,i):delete e[t]}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,i){return t&&f(e.prototype,t),i&&f(e,i),e},a=window.WeakMap||window.MozWeakMap||(r(d,[{key:"get",value:function(e){for(var t=0;t<this.keys.length;t++)if(this.keys[t]===e)return this.values[t]}},{key:"set",value:function(e,t){for(var i=0;i<this.keys.length;i++)if(this.keys[i]===e)return this.values[i]=t,this;return this.keys.push(e),this.values.push(t),this}}]),d),l=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||(r(c,[{key:"observe",value:function(){}}]),c.notSupported=!0,c),u=window.getComputedStyle||function(i){var s=/(\-([a-z]){1})/g;return{getPropertyValue:function(e){s.test(e="float"===e?"styleFloat":e)&&e.replace(s,function(e,t){return t.toUpperCase()});var t=i.currentStyle;return(null!=t?t[e]:void 0)||null}}},r=(r(h,[{key:"init",value:function(){this.element=window.document.documentElement,n(document.readyState,["interactive","complete"])?this.start():s(document,"DOMContentLoaded",this.start),this.finished=[]}},{key:"start",value:function(){var o=this;if(this.stopped=!1,this.boxes=[].slice.call(this.element.querySelectorAll("."+this.config.boxClass)),this.all=this.boxes.slice(0),this.boxes.length)if(this.disabled())this.resetStyle();else for(var e=0;e<this.boxes.length;e++){var t=this.boxes[e];this.applyStyle(t,!0)}this.disabled()||(s(this.config.scrollContainer||window,"scroll",this.scrollHandler),s(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live&&new l(function(e){for(var t=0;t<e.length;t++)for(var i=e[t],s=0;s<i.addedNodes.length;s++){var n=i.addedNodes[s];o.doSync(n)}}).observe(document.body,{childList:!0,subtree:!0})}},{key:"stop",value:function(){this.stopped=!0,o(this.config.scrollContainer||window,"scroll",this.scrollHandler),o(window,"resize",this.scrollHandler),null!=this.interval&&clearInterval(this.interval)}},{key:"sync",value:function(){l.notSupported&&this.doSync(this.element)}},{key:"doSync",value:function(e){if(1===(e=null==e?this.element:e).nodeType)for(var t=(e=e.parentNode||e).querySelectorAll("."+this.config.boxClass),i=0;i<t.length;i++){var s=t[i];n(s,this.all)||(this.boxes.push(s),this.all.push(s),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(s,!0),this.scrolled=!0)}}},{key:"show",value:function(e){return this.applyStyle(e),e.className=e.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(e),t=e,i=this.wowEvent,null!=t.dispatchEvent?t.dispatchEvent(i):i in(null!=t)?t[i]():"on"+i in(null!=t)&&t["on"+i](),s(e,"animationend",this.resetAnimation),s(e,"oanimationend",this.resetAnimation),s(e,"webkitAnimationEnd",this.resetAnimation),s(e,"MSAnimationEnd",this.resetAnimation),e;var t,i}},{key:"applyStyle",value:function(e,t){var i=this,s=e.getAttribute("data-wow-duration"),n=e.getAttribute("data-wow-delay"),o=e.getAttribute("data-wow-iteration");return this.animate(function(){return i.customStyle(e,t,s,n,o)})}},{key:"resetStyle",value:function(){for(var e=0;e<this.boxes.length;e++)this.boxes[e].style.visibility="visible"}},{key:"resetAnimation",value:function(e){0<=e.type.toLowerCase().indexOf("animationend")&&((e=e.target||e.srcElement).className=e.className.replace(this.config.animateClass,"").trim())}},{key:"customStyle",value:function(e,t,i,s,n){return t&&this.cacheAnimationName(e),e.style.visibility=t?"hidden":"visible",i&&this.vendorSet(e.style,{animationDuration:i}),s&&this.vendorSet(e.style,{animationDelay:s}),n&&this.vendorSet(e.style,{animationIterationCount:n}),this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)}),e}},{key:"vendorSet",value:function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];e[""+i]=s;for(var n=0;n<this.vendors.length;n++)e[""+this.vendors[n]+i.charAt(0).toUpperCase()+i.substr(1)]=s}}},{key:"vendorCSS",value:function(e,t){for(var i=u(e),s=i.getPropertyCSSValue(t),n=0;n<this.vendors.length;n++)var o=this.vendors[n],s=s||i.getPropertyCSSValue("-"+o+"-"+t);return s}},{key:"animationName",value:function(t){var i=void 0;try{i=this.vendorCSS(t,"animation-name").cssText}catch(e){i=u(t).getPropertyValue("animation-name")}return"none"===i?"":i}},{key:"cacheAnimationName",value:function(e){return this.animationNameCache.set(e,this.animationName(e))}},{key:"cachedAnimationName",value:function(e){return this.animationNameCache.get(e)}},{key:"scrollHandler",value:function(){this.scrolled=!0}},{key:"scrollCallback",value:function(){if(this.scrolled){this.scrolled=!1;for(var e=[],t=0;t<this.boxes.length;t++){var i=this.boxes[t];i&&(this.isVisible(i)?this.show(i):e.push(i))}this.boxes=e,this.boxes.length||this.config.live||this.stop()}}},{key:"offsetTop",value:function(e){for(;void 0===e.offsetTop;)e=e.parentNode;for(var t=e.offsetTop;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}},{key:"isVisible",value:function(e){var t=e.getAttribute("data-wow-offset")||this.config.offset,i=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,t=i+Math.min(this.element.clientHeight,"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight)-t,s=this.offsetTop(e),e=s+e.clientHeight;return s<=t&&i<=e}},{key:"disabled",value:function(){return!this.config.mobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}]),h);function h(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,h),this.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null},this.animate="requestAnimationFrame"in window?function(e){return window.requestAnimationFrame(e)}:function(e){return e()},this.vendors=["moz","webkit"],this.start=this.start.bind(this),this.resetAnimation=this.resetAnimation.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.scrollCallback=this.scrollCallback.bind(this),this.scrolled=!0,this.config=function(e,t){for(var i in t){var s;null==e[i]&&(s=t[i],e[i]=s)}return e}(e,this.defaults),null!=e.scrollContainer&&(this.config.scrollContainer=document.querySelector(e.scrollContainer)),this.animationNameCache=new a,this.wowEvent=function(e,t,i,s){var t=!(arguments.length<=1||void 0===t)&&t,i=!(arguments.length<=2||void 0===i)&&i,s=arguments.length<=3||void 0===s?null:s,n=void 0;return null!=document.createEvent?(n=document.createEvent("CustomEvent")).initCustomEvent(e,t,i,s):null!=document.createEventObject?(n=document.createEventObject()).eventType=e:n.eventName=e,n}(this.config.boxClass)}function c(){i(this,c),"undefined"!=typeof console&&null!==console&&(console.warn("MutationObserver is not supported by your browser."),console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content."))}function d(){i(this,d),this.keys=[],this.values=[]}function f(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}t.default=r,e.exports=t.default}),function(e){function u(e,t){var i=this,s=this,n=!1;if(Array.isArray(e))return!!e.length&&e.map(function(e){return new u(e,t)});var o={init:function(){this.options=Object.assign({duration:600,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active",beforeOpen:function(){},onOpen:function(){},beforeClose:function(){},onClose:function(){}},t),this.container="string"==typeof e?document.querySelector(e):e,this.createDefinitions(),s.attachEvents()},createDefinitions:function(){var i=this,e=this.options,t=e.elementClass,s=e.openOnInit,e=e.onlyChildNodes?this.container.childNodes:this.container.querySelectorAll(l(t));this.elements=Array.from(e).filter(function(e){return e.classList&&e.classList.contains(t)}),this.firstElement=this.elements[0],this.lastElement=this.elements[this.elements.length-1],this.elements.filter(function(e){return!e.classList.contains("js-enabled")}).forEach(function(e){e.classList.add("js-enabled"),i.generateIDs(e),i.setARIA(e),i.setTransition(e);var t=i.elements.indexOf(e);h++,s.includes(t)?i.showElement(e,!1):i.closeElement(e,!1)})},setTransition:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.options,s=i.duration,i=i.panelClass,i=e.querySelector(l(i)),n=r("transitionDuration");i.style[n]=t?null:"".concat(s,"ms")},generateIDs:function(e){var t=this.options,i=t.triggerClass,t=t.panelClass,i=e.querySelector(l(i)),t=e.querySelector(l(t));e.setAttribute("id",e.id||"ac-".concat(h)),i.setAttribute("id",i.id||"ac-trigger-".concat(h)),t.setAttribute("id",t.id||"ac-panel-".concat(h))},removeIDs:function(e){var t=this.options,i=t.triggerClass,t=t.panelClass,i=e.querySelector(l(i)),t=e.querySelector(l(t));e.id.startsWith("ac-")&&e.removeAttribute("id"),i.id.startsWith("ac-")&&i.removeAttribute("id"),t.id.startsWith("ac-")&&t.removeAttribute("id")},setARIA:function(e){var t=this.options,i=t.ariaEnabled,s=t.triggerClass,t=t.panelClass;i&&(i=e.querySelector(l(s)),s=e.querySelector(l(t)),i.setAttribute("role","button"),i.setAttribute("aria-controls",s.id),i.setAttribute("aria-disabled",!1),i.setAttribute("aria-expanded",!1),s.setAttribute("role","region"),s.setAttribute("aria-labelledby",i.id))},updateARIA:function(e,t){var i=t.ariaExpanded,t=t.ariaDisabled,s=this.options,n=s.ariaEnabled,s=s.triggerClass;n&&((n=e.querySelector(l(s))).setAttribute("aria-expanded",i),n.setAttribute("aria-disabled",t))},removeARIA:function(e){var t=this.options,i=t.ariaEnabled,s=t.triggerClass,t=t.panelClass;i&&(i=e.querySelector(l(s)),s=e.querySelector(l(t)),i.removeAttribute("role"),i.removeAttribute("aria-controls"),i.removeAttribute("aria-disabled"),i.removeAttribute("aria-expanded"),s.removeAttribute("role"),s.removeAttribute("aria-labelledby"))},focus:function(e,t){e.preventDefault();e=this.options.triggerClass;t.querySelector(l(e)).focus()},focusFirstElement:function(e){this.focus(e,this.firstElement),this.currFocusedIdx=0},focusLastElement:function(e){this.focus(e,this.lastElement),this.currFocusedIdx=this.elements.length-1},focusNextElement:function(e){var t=this.currFocusedIdx+1;if(t>this.elements.length-1)return this.focusFirstElement(e);this.focus(e,this.elements[t]),this.currFocusedIdx=t},focusPrevElement:function(e){var t=this.currFocusedIdx-1;if(t<0)return this.focusLastElement(e);this.focus(e,this.elements[t]),this.currFocusedIdx=t},showElement:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this.options,s=i.panelClass,n=i.activeClass,o=i.collapse,i=i.beforeOpen,r=(t&&i(e),e.querySelector(l(s))),a=r.scrollHeight;e.classList.add(n),requestAnimationFrame(function(){requestAnimationFrame(function(){r.style.height=t?"".concat(a,"px"):"auto"})}),this.updateARIA(e,{ariaExpanded:!0,ariaDisabled:!o})},closeElement:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this.options,s=i.panelClass,n=i.activeClass,i=i.beforeClose,o=e.querySelector(l(s)),r=o.scrollHeight;e.classList.remove(n),t?(i(e),requestAnimationFrame(function(){o.style.height="".concat(r,"px"),requestAnimationFrame(function(){o.style.height=0})})):o.style.height=0,this.updateARIA(e,{ariaExpanded:!1,ariaDisabled:!1})},toggleElement:function(e){var t=this.options,i=t.activeClass,t=t.collapse,i=e.classList.contains(i);if(!i||t)return i?this.closeElement(e):this.showElement(e)},closeElements:function(){var i=this,e=this.options,s=e.activeClass;e.showMultiple||this.elements.forEach(function(e,t){e.classList.contains(s)&&t!==i.currFocusedIdx&&i.closeElement(e)})},handleClick:function(i){var s=this,n=i.currentTarget;this.elements.forEach(function(e,t){e.contains(n)&&"A"!==i.target.nodeName&&(s.currFocusedIdx=t,s.closeElements(),s.focus(i,e),s.toggleElement(e))})},handleKeydown:function(e){switch(e.key){case"ArrowUp":return this.focusPrevElement(e);case"ArrowDown":return this.focusNextElement(e);case"Home":return this.focusFirstElement(e);case"End":return this.focusLastElement(e);default:return null}},handleFocus:function(e){var t=e.currentTarget,e=this.elements.find(function(e){return e.contains(t)});this.currFocusedIdx=this.elements.indexOf(e)},handleTransitionEnd:function(e){var t,i,s,n;e.stopPropagation(),"height"===e.propertyName&&(t=(i=this.options).onOpen,i=i.onClose,s=e.currentTarget,e=parseInt(s.style.height),n=this.elements.find(function(e){return e.contains(s)}),(0<e?(s.style.height="auto",t):i)(n))}},r=(this.attachEvents=function(){var e,i,s;n||(e=o.options,i=e.triggerClass,s=e.panelClass,o.handleClick=o.handleClick.bind(o),o.handleKeydown=o.handleKeydown.bind(o),o.handleFocus=o.handleFocus.bind(o),o.handleTransitionEnd=o.handleTransitionEnd.bind(o),o.elements.forEach(function(e){var t=e.querySelector(l(i)),e=e.querySelector(l(s));t.addEventListener("click",o.handleClick),t.addEventListener("keydown",o.handleKeydown),t.addEventListener("focus",o.handleFocus),e.addEventListener("webkitTransitionEnd",o.handleTransitionEnd),e.addEventListener("transitionend",o.handleTransitionEnd)}),n=!0)},this.detachEvents=function(){var e,i,s;n&&(e=o.options,i=e.triggerClass,s=e.panelClass,o.elements.forEach(function(e){var t=e.querySelector(l(i)),e=e.querySelector(l(s));t.removeEventListener("click",o.handleClick),t.removeEventListener("keydown",o.handleKeydown),t.removeEventListener("focus",o.handleFocus),e.removeEventListener("webkitTransitionEnd",o.handleTransitionEnd),e.removeEventListener("transitionend",o.handleTransitionEnd)}),n=!1)},this.toggle=function(e){e=o.elements[e];e&&o.toggleElement(e)},this.open=function(e){e=o.elements[e];e&&o.showElement(e)},this.openAll=function(){var e=o.options,t=e.activeClass,i=e.onOpen;o.elements.forEach(function(e){e.classList.contains(t)||(o.showElement(e,!1),i(e))})},this.close=function(e){e=o.elements[e];e&&o.closeElement(e)},this.closeAll=function(){var e=o.options,t=e.activeClass,i=e.onClose;o.elements.forEach(function(e){e.classList.contains(t)&&(o.closeElement(e,!1),i(e))})},this.destroy=function(){i.detachEvents(),i.openAll(),o.elements.forEach(function(e){o.removeIDs(e),o.removeARIA(e),o.setTransition(e,!0)}),n=!0},this.update=function(){o.createDefinitions(),i.detachEvents(),i.attachEvents()},function(e){return"string"==typeof document.documentElement.style[e]?e:(e=a(e),"webkit".concat(e))}),a=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},l=function(e){return".".concat(CSS.escape(e))};o.init()}var h=0;"undefined"!=typeof module&&void 0!==module.exports?module.exports=u:e.Accordion=u}(window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).TypeIt=t()}(this,function(){"use strict";const t=e=>Array.isArray(e),o=e=>t(e)?e:[e],r="data-typeit-id",a="ti-cursor",i={started:!1,completed:!1,frozen:!1,destroyed:!1},n={breakLines:!0,cursor:{autoPause:!0,autoPauseDelay:500,animation:{frames:[0,0,1].map(e=>({opacity:e})),options:{iterations:1/0,easing:"steps(2, start)",fill:"forwards"}}},cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},s=(r,e=>document.createElement(e)),l=e=>document.createTextNode(e),u=(e,t="")=>{var i=s("style");i.id=t,i.appendChild(l(e)),document.head.appendChild(i)},h=e=>e=t(e)?e:[e/2,e/2],c=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));const d=e=>Array.from(e);let f=e=>([...e.childNodes].forEach(t=>{t.nodeValue?([...t.nodeValue].forEach(e=>{t.parentNode.insertBefore(l(e),t)}),t.remove()):f(t)}),e);const m=e=>{var t=document.implementation.createHTMLDocument();return t.body.innerHTML=e,f(t.body)};function p(e,t=!1,i=!1){let s,n=e.querySelector("."+a),o=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:e=>{if(n&&i){if(e.classList?.contains(a))return NodeFilter.FILTER_ACCEPT;if(n.contains(e))return NodeFilter.FILTER_REJECT}return e.classList?.contains(a)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),r=[];for(;s=o.nextNode();)s.originalParent||(s.originalParent=s.parentNode),r.push(s);return t?r.reverse():r}const v=e=>Number.isInteger(e),y=({queueItems:e,selector:s,cursorPosition:t,to:i})=>{if(v(s))return-1*s;let n=new RegExp("END","i").test(i),o=s?[...e].reverse().findIndex(({char:e})=>{var t=e.parentElement,i=t.matches(s);return!(!n||!i)||i&&t.firstChild.isSameNode(e)}):-1;return(o=o<0?n?0:e.length-1:o)-t+(n?0:1)},g=(e,t)=>new Array(t).fill(e);let b=t=>new Promise(e=>{requestAnimationFrame(async()=>{e(await t())})}),w=t=>t?.getAnimations().find(e=>e.id===t.dataset.tiAnimationId),E=({cursor:e,frames:t,options:i})=>{let s=e.animate(t,i);return s.pause(),s.id=e.dataset.tiAnimationId,b(()=>{b(()=>{s.play()})}),s},C=e=>e.func?.call(null);const A=e=>"value"in e;let S=e=>"function"==typeof e?e():e,x=(e,t=document,i=!1)=>t["querySelector"+(i?"All":"")](e);const T=(e,t)=>Object.assign({},e,t);let k={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"",transform:"translateX(-.125em)"};return class{element;timeouts;cursorPosition;predictedCursorPosition;statuses={started:!1,completed:!1,frozen:!1,destroyed:!1};opts;id;queue;cursor;unfreeze=()=>{};constructor(e,t={}){this.opts=T(n,t),this.element="string"==typeof(e=e)?x(e):e,this.timeouts=[],this.cursorPosition=0,this.unfreeze=()=>{},this.predictedCursorPosition=null,this.statuses=T({},i),this.id=Math.random().toString().substring(2,9),this.queue=function(e){function t(e){return o(e).forEach(e=>n.set(Symbol(e.char?.innerText),s({...e}))),this}let s=e=>(e.shouldPauseCursor=function(){return Boolean(this.typeable||this.cursorable||this.deletable)},e),i=()=>Array.from(n.values()),n=new Map;return t(e),{add:t,set:function(e,t){var i=[...n.keys()];n.set(i[e],s(t))},wipe:function(){n=new Map,t(e)},done:(e,t=!1)=>t?n.delete(e):n.get(e).done=!0,reset:function(){n.forEach(e=>delete e.done)},destroy:e=>n.delete(e),getItems:(e=!1)=>e?i():i().filter(e=>!e.done),getQueue:()=>n,getTypeable:()=>i().filter(e=>e.typeable)}}([{delay:this.opts.startDelay}]),this.#e(t),this.cursor=this.#t(),this.element.dataset.typeitId=this.id,u("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}"),this.opts.strings.length&&this.#s()}go(){return this.statuses.started||(this.#i(),this.opts.waitUntilVisible?(i=this.element,s=this.#r.bind(this),new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(s(),t.unobserve(i))})},{threshold:1}).observe(i)):this.#r()),this;var i,s}destroy(e=!0){this.timeouts=(this.timeouts.forEach(clearTimeout),[]),S(e)&&this.cursor&&this.#n(this.cursor),this.statuses.destroyed=!0}reset(e){for(var t in this.is("destroyed")||this.destroy(),e?(this.queue.wipe(),e(this)):this.queue.reset(),this.cursorPosition=0,this.statuses)this.statuses[t]=!1;return this.element[this.#o()?"value":"innerHTML"]="",this}is=function(e){return this.statuses[e]};type(e,t={}){e=S(e);let i=t["instant"],s=this.#a(t),n=([r,a=!0]=[e,this.opts.html],(a?p(m(r)):d(r).map(l)).map(e=>{return{func:()=>this.#u(e),char:e,delay:i||/<(.+)>(.*?)<\/(.+)>/.test(e.outerHTML)?0:this.#l(),typeable:e.nodeType===Node.TEXT_NODE}})),o=[s[0],{func:async()=>this.opts.beforeString(e,this)},...n,{func:async()=>this.opts.afterString(e,this)},s[1]];var r,a;return this.#h(o,t)}break(e={}){return this.#h({func:()=>this.#u(s("BR")),typeable:!0},e)}move(e,t={}){e=S(e);let i=this.#a(t),{instant:s,to:n}=t,o=y({queueItems:this.queue.getTypeable(),selector:null===e?"":e,to:n,cursorPosition:this.#d}),r=o<0?-1:1;return this.predictedCursorPosition=this.#d+o,this.#h([i[0],...g({func:()=>this.#p(r),delay:s?0:this.#l(),cursorable:!0},Math.abs(o)),i[1]],t)}exec(e,t={}){var i=this.#a(t);return this.#h([i[0],{func:()=>e(this)},i[1]],t)}options(e,t={}){return e=S(e),this.#c(e),this.#h({},t)}pause(e,t={}){return this.#h({delay:S(e)},t)}delete(e=null,t={}){e=S(e);let i=this.#a(t),s=e,{instant:n,to:o}=t,r=this.queue.getTypeable(),a=null===s?r.length:v(s)?s:y({queueItems:r,selector:s,cursorPosition:this.#d,to:o});return this.#h([i[0],...g({func:this.#m.bind(this),delay:n?0:this.#l(1),deletable:!0},a),i[1]],t)}freeze(){this.statuses.frozen=!0}flush(e=()=>{}){return this.#i(),this.#r(!1).then(e),this}getQueue(){return this.queue}getOptions(){return this.opts}updateOptions(e){return this.#c(e)}getElement(){return this.element}empty(e={}){return this.#h({func:this.#f.bind(this)},e)}async#f(){this.#o()?this.element.value="":this.#y.forEach(this.#n.bind(this))}async#r(t=!0){this.statuses.started=!0;var i=e=>{this.queue.done(e,!t)};try{var s=[...this.queue.getQueue()];for(let e=0;e<s.length;e++){var[n,o]=s[e];if(!o.done){if(!o.deletable||o.deletable&&this.#y.length){var r=await this.#g(e,s),{index:a,newIndex:l,queueItems:u,cleanUp:h}=[{index:e,newIndex:r,queueItems:s,cleanUp:i}][0];for(let e=a+1;e<l+1;e++)h(u[e][0]);e=r}i(n)}}if(!t)return this;if(this.statuses.completed=!0,await this.opts.afterComplete(this),!this.opts.loop)throw"";let e=this.opts.loopDelay;this.#b(async()=>{await this.#P(e[0]),this.#r()},e[1])}catch(e){}return this}async#p(e){this.cursorPosition=(t=this.cursorPosition,i=this.#y,Math.min(Math.max(t+e,0),i.length));var t=this.element,e=this.#y,i=this.cursorPosition;e=e[i-1],i=x("."+a,t),(t=e?.parentNode||t).insertBefore(i,e||null)}async#P(e){var t=this.#d,i=(t&&await this.#p({value:t}),this.#y.map(e=>[Symbol(),{func:this.#m.bind(this),delay:this.#l(1),deletable:!0,shouldPauseCursor:()=>!0}]));for(let e=0;e<i.length;e++)await this.#g(e,i);this.queue.reset(),this.queue.set(0,{delay:e})}#g(e,t){return(async({index:e,queueItems:t,wait:i,cursor:s,cursorOptions:n})=>{let o=t[e][1],r=[],a=e,l=o,u=()=>l&&!l.delay,h=o.shouldPauseCursor()&&n.autoPause;for(;u();)r.push(l),u()&&a++,l=t[a]?t[a][1]:null;if(r.length)return await b(async()=>{for(var e of r)await C(e)}),a-1;let c,d=w(s);return d&&(c={...d.effect.getComputedTiming(),delay:h?n.autoPauseDelay:0}),await i(async()=>{d&&h&&d.cancel(),await b(()=>{C(o)})},o.delay),await(({cursor:i,options:s,cursorOptions:n})=>{if(i&&n){let e,t=w(i);t&&(s.delay=t.effect.getComputedTiming().delay,e=t.currentTime,t.cancel());i=E({cursor:i,frames:n.animation.frames,options:s});return e&&(i.currentTime=e),i}})({cursor:s,options:c,cursorOptions:n}),e})({index:e,queueItems:t,wait:this.#b.bind(this),cursor:this.cursor,cursorOptions:this.opts.cursor})}async#b(e,t,i=!1){var s,n,o;this.statuses.frozen&&await new Promise(e=>{this.unfreeze=()=>{this.statuses.frozen=!1,e()}}),i||await this.opts.beforeStep(this),s=e,n=t,o=this.timeouts,await new Promise(e=>{o.push(setTimeout(async()=>{await s(),e()},n||0))}),i||await this.opts.afterStep(this)}async#i(){if(!this.#o()&&this.cursor&&this.element.appendChild(this.cursor),this.#C){{var i=this.id;var n=this.element;let e=`[${r}='${i}'] .`+a,s=getComputedStyle(n),t=Object.entries(k).reduce((e,[t,i])=>`${e} ${t}: var(--ti-cursor-${t}, ${i||s[t]});`,"");u(e+` { display: inline-block; width: 0; ${t} }`,i)}this.cursor.dataset.tiAnimationId=this.id;var n=this.opts.cursor["animation"],{frames:i,options:n}=n;E({frames:i,cursor:this.cursor,options:{duration:this.opts.cursorSpeed,...n}})}}#o(){return A(this.element)}#h(e,t){return this.queue.add(e),this.#I(t),this}#I(e={}){e=e.delay;e&&this.queue.add({delay:e})}#a(e={}){return[{func:()=>this.#c(e)},{func:()=>this.#c(this.opts)}]}async#c(e){this.opts=T(this.opts,e)}#s(){let i=this.opts.strings.filter(e=>!!e);i.forEach((e,t)=>{this.type(e),t+1!==i.length&&(e=this.opts.breakLines?[{func:()=>this.#u(s("BR")),typeable:!0}]:g({func:this.#m.bind(this),delay:this.#l(1)},this.queue.getTypeable().length),this.#v(e))})}#e=e=>{var t,i,s;e.cursor="object"==typeof(e=e.cursor??n.cursor)?(t={},{frames:i,options:s}=n.cursor.animation,t.animation=e.animation||{},t.animation.frames=e.animation?.frames||i,t.animation.options=T(s,e.animation?.options||{}),t.autoPause=e.autoPause??n.cursor.autoPause,t.autoPauseDelay=e.autoPauseDelay||n.cursor.autoPauseDelay,t):!0===e?n.cursor:e,this.opts.strings=this.#w(o(this.opts.strings)),this.opts=T(this.opts,{html:!this.#T&&this.opts.html,nextStringDelay:h(this.opts.nextStringDelay),loopDelay:h(this.opts.loopDelay)})};#w(e){var t=this.element.innerHTML;return t?(this.element.innerHTML="",this.opts.startDelete?(this.element.innerHTML=t,f(this.element),this.#v(g({func:this.#m.bind(this),delay:this.#l(1),deletable:!0},this.#y.length)),e):t.replace(/<!--(.+?)-->/g,"").trim().split(/<br(?:\s*?)(?:\/)?>/).concat(e)):e}#t(){var e;return this.#T?null:((e=s("span")).className=a,this.#C?e.innerHTML=m(this.opts.cursorChar).innerHTML:e.style.visibility="hidden",e)}#v(e){var t=this.opts.nextStringDelay;this.queue.add([{delay:t[0]},...e,{delay:t[1]}])}#u(e){var t,i;t=this.element,e=e,A(t)?t.value=""+t.value+e.textContent:(e.innerHTML="",i=e.originalParent,(i=!/body/i.test(i?.tagName)&&e.originalParent||t).insertBefore(e,x("."+a,i)||null))}#m(){this.#y.length&&(this.#T?this.element.value=this.element.value.slice(0,-1):this.#n(this.#y[this.cursorPosition]))}#n(e){var t,i;e=e,t=this.element,e&&(1<(i=e.parentNode).childNodes.length||i.isSameNode(t)?e:i).remove()}#l(e=0){return function(e){var{speed:e,deleteSpeed:t,lifeLike:i}=e,t=null!==t?t:e/3;return i?[c(e,e/2),c(t,t/2)]:[e,t]}(this.opts)[e]}get#d(){return this.predictedCursorPosition??this.cursorPosition}get#T(){return A(this.element)}get#C(){return!!this.opts.cursor&&!this.#T}get#y(){return e=this.element,A(e)?d(e.value):p(e,!0).filter(e=>!(0<e.childNodes.length));var e}}});